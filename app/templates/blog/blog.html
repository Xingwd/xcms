{% extends 'base.html' %}

{% block title %}博客 | 邢为栋{% endblock %}

{% block header %}千里之行，始于足下{% endblock %}


{% block content %}

<div class="container">

  <div class="row">
    <div class="col-md-8">
      <div class="pb-0 mb-4 font-italic border-bottom">
        <div class="row flex-nowrap justify-content-between align-items-center">
          <div class="col-4 pt-1">
            <h3 class="text-muted">{% block blogheader %}轨迹{% endblock %}</h3>
          </div>
        </div>
      </div>
      {% block blogmain %}
      {% for post in posts %}
      <div class="card bg-light">
        <h4 class="card-header">{{ post.title }}</h4>
        <div class="card-body">

          <h6 class="card-subtitle mb-2 text-muted">{{ post.pub_date }}</h6>
          <div class="btn-group-sm" role="group">
            {% for tag in post.tags %}
            <a href="{{ url_for('blog.tag_filter', name=tag.name) }}">
              <button type="button" class="btn btn-info" style="padding: 0 5px 0 5px">{{ tag.name }}</button>
            </a>
            {% endfor %}
          </div>
          <div class="card-text text-truncate" style="margin: 5px 0 5px 0">{{ post.content }}</div>
          <a href="{{ url_for('blog.detail', slug=post.slug) }}" class="card-link">详情</a>
        </div>
      </div>
      <hr>
      {% endfor %}

      <nav aria-label="Page navigation example">
        <ul class="pagination justify-content-center">
          {% if prev_url %}
          <li class="page-item">
            <a class="page-link" href="{{ prev_url }}">上一页</a>
          </li>
          {% else %}
          <li class="page-item disabled">
            <a class="page-link" href="#">上一页</a>
          </li>
          {% endif %}
          {% if next_url %}
          <li class="page-item">
            <a class="page-link" href="{{ next_url }}">下一页</a>
          </li>
          {% else %}
          <li class="page-item disabled">
            <a class="page-link" href="#">下一页</a>
          </li>
          {% endif %}
        </ul>
      </nav>
      {% endblock %}
    </div><!-- /.blog-main -->

    <aside class="col-md-4 blog-sidebar">
      <form class="mb-3 form-inline">
        <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
        <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
      </form>

      <div class="p-3 mb-3 bg-light rounded">
        <h4 class="font-italic text-muted">About</h4>
        <p class="mb-0">欢迎来到我的博客，内容均为原创，转载请注明出处。</p>
      </div>

      <div class="p-3">
        <h4 class="font-italic text-muted">TagCloud</h4>
        <div id="tag-cloud"></div>
      </div>

      <div class="p-3">
        <h4 class="font-italic text-muted">Find Me</h4>
        <ul class="list-unstyled text-small">
          <li><a class="text-dark" href="#">GitHub</a></li>
          <li><a class="text-dark" href="#">领英</a></li>
        </ul>
      </div>

      <div class="p-3">
        <h4 class="font-italic text-muted">Contact Me</h4>
        <ul class="list-unstyled text-small">
          <li><a class="text-dark" href="#">Email</a></li>
          <li><a class="text-dark" href="#">微信</a></li>
        </ul>
      </div>

      <div class="p-3">
        <h4 class="font-italic text-muted">Others</h4>
        <ul class="list-unstyled text-small">
          <li><a class="text-dark" href="#">版权声明</a></li>
        </ul>
      </div>

    </aside><!-- /.blog-sidebar -->
  </div>
</div>


<script>
  $( document ).ready( function() {
    var entries = []
    {% for tag in tags %}
    entries.push({ label: '{{ tag.name }}', url: '{{ url_for('blog.tag_filter', name=tag.name) }}', target: '_top' })
    {% endfor %}

    var settings = {
        entries: entries,
        width: 300,
        height: 300,
        radius: '70%',
        radiusMin: 75,
        bgDraw: true,
        bgColor: '#fff',
        opacityOver: 1.00,
        opacityOut: 0.05,
        opacitySpeed: 6,
        fov: 800,
        speed: 0.2,
        fontFamily: 'Oswald, Arial, sans-serif',
        fontSize: '15',
        fontColor: '#000',
        fontWeight: 'normal',//bold
        fontStyle: 'normal',//italic
        fontStretch: 'normal',//wider, narrower, ultra-condensed, extra-condensed, condensed, semi-condensed, semi-expanded, expanded, extra-expanded, ultra-expanded
        fontToUpperCase: false

    };

    //var svg3DTagCloud = new SVG3DTagCloud( document.getElementById( 'holder' ), settings );
    $( '#tag-cloud' ).svg3DTagCloud( settings );

  } );

</script>
{% endblock %}