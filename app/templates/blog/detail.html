{% extends 'blog/blog.html' %}

{% block content %}
<div class="row">
  <div class="col-2">
    <nav class="nav justify-content-center">
    <div class="position-fixed">
      {% if prev_url %}
      <a href="{{ prev_url }}">
        <i width="100" height="100" class="text-warning" data-feather="chevron-left"></i>
      </a>
      {% else %}
      <i width="100" height="100" class="text-muted" data-feather="chevron-left"></i>
      {% endif %}
      </div>
    </nav>
  </div>
  <div class="col-8"></div>
  <div class="col-2">
    <nav class="nav justify-content-center">
      <div class="position-fixed">
      {% if next_url %}
      <a href="{{ next_url }}">
        <i width="100" height="100" class="text-warning" data-feather="chevron-right"></i>
      </a>
      {% else %}
      <i width="100" height="100" class="text-muted" data-feather="chevron-right"></i>
      {% endif %}
        </div>
    </nav>
  </div>
</div>

<div class="container">
  <h2>{{ post.title }}</h2>
  <h6 class="text-muted">{{ post.pub_date }}</h6>
  <div class="btn-group-sm" role="group">
    {% for tag in post.tags %}
    <a href="{{ url_for('blog.tag_filter', name=tag.name) }}">
      <button type="button" class="btn btn-info" style="padding: 0 5px 0 5px">{{ tag.name }}</button>
    </a>
    {% endfor %}
  </div>
  <div id="md2html" style="margin: 5px 0 5px 0">
    <textarea style="display:none;">{{ post.content }}</textarea>
  </div>
</div>
<hr>


<!-- editor.md -->
<script src="{{ url_for('static',filename='editormd/lib/marked.min.js') }}"></script>
<script src="{{ url_for('static',filename='editormd/lib/prettify.min.js') }}"></script>
<script src="{{ url_for('static',filename='editormd/lib/raphael.min.js') }}"></script>
<script src="{{ url_for('static',filename='editormd/lib/underscore.min.js') }}"></script>
<script src="{{ url_for('static',filename='editormd/lib/sequence-diagram.min.js') }}"></script>
<script src="{{ url_for('static',filename='editormd/lib/flowchart.min.js') }}"></script>
<script src="{{ url_for('static',filename='editormd/lib/jquery.flowchart.min.js') }}"></script>
<script type="text/javascript">
  var mdEditor;

  mdEditor = editormd.markdownToHTML("md2html", {
      htmlDecode      : "style,script,iframe",  // you can filter tags decode
      emoji           : true,
      taskList        : true,
      tex             : true,  // 默认不解析
      flowChart       : true,  // 默认不解析
      sequenceDiagram : true,  // 默认不解析
  });
</script>
{% endblock %}