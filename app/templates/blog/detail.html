{% extends 'blog/blog.html' %}

{% block content %}
<div class="container">
  <h2>{{ post.title }}</h2>
  <h6 class="text-muted">{{ post.pub_date }}</h6>
  <div class="btn-group-sm" role="group">
    {% for tag in post.tags %}
    <a href="{{ url_for('blog.tag_filter', name=tag.name) }}">
      <button type="button" class="btn btn-info" style="padding: 0 5px 0 5px">{{ tag.name }}</button>
    </a>
    {% endfor %}
  </div>
  <div id="md2html" style="margin: 5px 0 5px 0">
    <textarea style="display:none;">{{ post.content }}</textarea>
  </div>
</div>
<hr>

<nav aria-label="Page navigation example">
        <ul class="pagination justify-content-center">
          {% if prev_url %}
          <li class="page-item">
            <a class="page-link" href="{{ prev_url }}">上一篇</a>
          </li>
          {% else %}
          <li class="page-item disabled">
            <a class="page-link" href="#">上一篇</a>
          </li>
          {% endif %}
          {% if next_url %}
          <li class="page-item">
            <a class="page-link" href="{{ next_url }}">下一篇</a>
          </li>
          {% else %}
          <li class="page-item disabled">
            <a class="page-link" href="#">下一篇</a>
          </li>
          {% endif %}
        </ul>
      </nav>

<!-- editor.md -->
<script src="{{ url_for('static',filename='editormd/lib/marked.min.js') }}"></script>
<script src="{{ url_for('static',filename='editormd/lib/prettify.min.js') }}"></script>
<script src="{{ url_for('static',filename='editormd/lib/raphael.min.js') }}"></script>
<script src="{{ url_for('static',filename='editormd/lib/underscore.min.js') }}"></script>
<script src="{{ url_for('static',filename='editormd/lib/sequence-diagram.min.js') }}"></script>
<script src="{{ url_for('static',filename='editormd/lib/flowchart.min.js') }}"></script>
<script src="{{ url_for('static',filename='editormd/lib/jquery.flowchart.min.js') }}"></script>
<script type="text/javascript">
    var mdEditor;

    mdEditor = editormd.markdownToHTML("md2html", {
        htmlDecode      : "style,script,iframe",  // you can filter tags decode
        emoji           : true,
        taskList        : true,
        tex             : true,  // 默认不解析
        flowChart       : true,  // 默认不解析
        sequenceDiagram : true,  // 默认不解析
    });
</script>
{% endblock %}