{% extends 'blog/blog.html' %}

{% block content %}
<div class="row">
  <div class="col-2">
    <nav class="nav justify-content-center">
    <div class="position-fixed">
      {% if prev_url %}
      <a href="{{ prev_url }}">
        <i width="100" height="100" class="text-warning" data-feather="chevron-left"></i>
      </a>
      {% else %}
      <i width="100" height="100" class="text-muted" data-feather="chevron-left"></i>
      {% endif %}
      </div>
    </nav>
  </div>
  <div class="col-8">
    <h2>{{ post.title }}</h2>
    <ul class="list-inline text-muted">
      <li class="list-inline-item mr-3">{{ post.pub_date.date() }}</li>
      <li class="list-inline-item"><i data-feather="eye" style="padding-bottom: 3px"></i> {{ post.pv }}</li>
    </ul>
    <div class="btn-group-sm" role="group">
      {% for tag in post.tags %}
      <a href="{{ url_for('blog.tag_filter', name=tag.name) }}">
        <button type="button" class="btn btn-info" style="padding: 0 5px 0 5px">{{ tag.name }}</button>
      </a>
      {% endfor %}
    </div>
    <hr>
    <div id="md2html" >
      <textarea style="display:none;">{{ post.content }}</textarea>
    </div>
  </div>
  <div class="col-2">
    <nav class="nav justify-content-center">
      <div class="position-fixed">
      {% if next_url %}
      <a href="{{ next_url }}">
        <i width="100" height="100" class="text-warning" data-feather="chevron-right"></i>
      </a>
      {% else %}
      <i width="100" height="100" class="text-muted" data-feather="chevron-right"></i>
      {% endif %}
        </div>
    </nav>
  </div>
</div>
<hr>


<!-- editor.md -->
<script src="{{ url_for('static',filename='editormd/lib/marked.min.js') }}"></script>
<script src="{{ url_for('static',filename='editormd/lib/prettify.min.js') }}"></script>
<script src="{{ url_for('static',filename='editormd/lib/raphael.min.js') }}"></script>
<script src="{{ url_for('static',filename='editormd/lib/underscore.min.js') }}"></script>
<script src="{{ url_for('static',filename='editormd/lib/sequence-diagram.min.js') }}"></script>
<script src="{{ url_for('static',filename='editormd/lib/flowchart.min.js') }}"></script>
<script src="{{ url_for('static',filename='editormd/lib/jquery.flowchart.min.js') }}"></script>
<script type="text/javascript">
  var mdEditor;

  mdEditor = editormd.markdownToHTML("md2html", {
      htmlDecode      : "style,script,iframe",  // you can filter tags decode
      emoji           : true,
      taskList        : true,
      tex             : true,  // 默认不解析
      flowChart       : true,  // 默认不解析
      sequenceDiagram : true,  // 默认不解析
  });
</script>
{% endblock %}